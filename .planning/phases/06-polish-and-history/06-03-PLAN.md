---
phase: 06-polish-and-history
plan: 03
type: execute
wave: 2
depends_on: ["06-01", "06-02"]
files_modified:
  - src/routes/(app)/+page.svelte
  - src/routes/(app)/history/+page.svelte
  - src/lib/components/SyncStatusBadge.svelte
autonomous: false

must_haves:
  truths:
    - "Chore completions animate smoothly (fade/slide transitions)"
    - "Touch targets are minimum 48px for comfortable one-handed tapping"
    - "UI feels responsive and polished on mobile devices (primary use case)"
    - "Visual hierarchy is clear (important elements stand out)"
    - "App is usable one-handed on a phone (thumb-friendly layout)"
    - "Safe areas respected on notched phones (no content cut off)"
  artifacts:
    - path: "src/routes/(app)/+page.svelte"
      provides: "Polished chore list with transitions and optimized touch targets"
      contains: "transition:"
    - path: "src/routes/(app)/history/+page.svelte"
      provides: "Polished history view with proper spacing"
      contains: "min-height: 48px"
  key_links:
    - from: "src/routes/(app)/+page.svelte"
      to: "svelte/transition"
      via: "transition directive on chore items"
      pattern: "import.*svelte/transition"
---

<objective>
Apply mobile-first UX polish to the chore list and history views with smooth transitions, optimized touch targets, and visual refinement. Includes a human verification checkpoint to leverage frontend-design skill for visual polish suggestions.

Purpose: The app is 80% phone use, 20% desktop. Admin may use desktop for initial master chore list entry, but daily worker use is almost entirely mobile. Field workers need an app that feels fast and is easy to use with dirty hands, in bright sunlight, and one-handed. Polish transforms functional into delightful.

Output: Mobile-optimized layouts, animated transitions on chore state changes, optimized touch targets for thumb-friendly interaction, refined visual hierarchy, and user-verified polish.
</objective>

<execution_context>
@/Users/mike.wojnarowski/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mike.wojnarowski/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-polish-and-history/06-RESEARCH.md
@.planning/phases/06-polish-and-history/06-01-SUMMARY.md
@.planning/phases/06-polish-and-history/06-02-SUMMARY.md
@src/routes/(app)/+page.svelte
@src/routes/(app)/history/+page.svelte
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Svelte transitions to chore list</name>
  <files>src/routes/(app)/+page.svelte</files>
  <action>
Add smooth transitions to the chore list for state changes:

1. Import transitions at top of script:
```svelte
import { fade, slide } from 'svelte/transition';
```

2. Add transition directives to chore items:
- Use `transition:slide={{ duration: 150 }}` on each chore-item li
- This creates smooth entry/exit when list changes

3. Add fade transition to completion status changes:
- The completion-info div should use `transition:fade={{ duration: 200 }}`

4. Optimize the toggle button animation:
- Add CSS transition for background-color change (already may exist)
- Ensure the check icon fade-in is smooth

Keep durations short (150-200ms) for responsive feel.
Do NOT add transitions to the main container or sections - only to items that actually change.

Note: Per research, avoid JavaScript animations - use CSS transforms/opacity only.
  </action>
  <verify>Complete a chore, see smooth animation. Undo completion, see reverse animation.</verify>
  <done>Chore completions animate smoothly with slide and fade transitions.</done>
</task>

<task type="auto">
  <name>Task 2: Mobile-first touch targets and layout optimization</name>
  <files>
    src/routes/(app)/+page.svelte
    src/routes/(app)/history/+page.svelte
  </files>
  <action>
Optimize for mobile-first use (80% phone, 20% desktop):

**Touch Targets (all interactive elements):**

For +page.svelte (chore list):
1. Increase toggle button from 2rem (32px) to 48px minimum
   - min-width: 48px; min-height: 48px
2. Add min-height: 56px to chore-item for comfortable thumb tapping
3. Ensure retry button has min 44px touch area
4. Make the entire chore row tappable (not just the checkbox)

For history/+page.svelte:
1. History cards min-height: 56px
2. Padding 16px for comfortable spacing
3. Back button/nav should be 48px minimum

**Mobile Layout Optimizations:**

1. **Thumb zone awareness**: Primary actions (toggle button) on right side of screen for right-handed one-thumb use
2. **Viewport padding**: Add safe-area-inset padding for notched phones:
```css
.container {
  padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0px));
}
```
3. **Font sizing**: Minimum 16px to prevent iOS zoom on input focus
4. **Scroll behavior**: Use `-webkit-overflow-scrolling: touch` for momentum scrolling
5. **Progress bar**: Make it more prominent on mobile (larger height)

**Desktop compatibility** (works but not optimized):
- Use max-width: 600px on container (already present)
- Center content on larger screens
- Desktop users can use mouse precision - mobile optimizations don't hurt

CSS updates needed:
```css
.toggle-button {
  min-width: 48px;
  min-height: 48px;
}

.chore-item {
  min-height: 56px;
  /* Entire row is touch-friendly */
}

/* Safe area for notched phones */
.container {
  padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0px));
}
```
  </action>
  <verify>Test on mobile device (or Chrome DevTools device mode with iPhone/Android presets). Verify comfortable one-handed use, no accidental taps.</verify>
  <done>All touch targets meet 48px minimum, layouts are thumb-friendly, safe areas respected.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Mobile-first visual polish verification with frontend-design skill</name>
  <what-built>
Applied mobile-first transitions and optimized touch targets to the chore list and history views. The UI should now feel smoother and be easy to use one-handed on a phone.
  </what-built>
  <how-to-verify>
**Primary test: Mobile device (this is 80% of usage)**

1. Open the app on your actual phone (or Chrome DevTools mobile emulator)
2. Test one-handed use:
   - Hold phone in one hand, use thumb to navigate
   - Can you comfortably tap the toggle buttons?
   - Can you scroll through chores without accidental taps?
3. Test the chore list:
   - Tap chores to complete - observe smooth animations
   - Verify toggle buttons are comfortable to tap (not too small)
   - Check visual hierarchy (headers, categories, items)
4. Test the history view:
   - Scroll through date groups
   - Verify cards are easy to read
   - Check photo thumbnails are appropriately sized
5. Test in bright light (simulate outdoor/barn use):
   - Is contrast sufficient?
   - Can you see what's completed vs pending?

**Secondary test: Desktop (20% of usage, mainly admin)**
- Verify admin chore management still works well on desktop
- Layout should be centered and readable

**Optional enhancement**: If you want additional visual polish, invoke the frontend-design skill to suggest:
   - Color scheme refinements for outdoor visibility
   - Spacing adjustments for thumb zones
   - Animation timing tweaks
   - Shadow and elevation improvements
   - Overall visual appeal ("pleasing to look at and use")

Please verify:
- Animations feel smooth (not janky)
- Touch targets are comfortable for one-handed use
- Visual hierarchy is clear
- Overall feel is polished for field use
- App looks clean and pleasing (not just functional)

If any issues, describe them for fixes. If approved, phase is complete.
  </how-to-verify>
  <resume-signal>Type "approved" to complete the phase, or describe issues that need fixing.</resume-signal>
</task>

</tasks>

<verification>
1. Run `npm run dev` and test on actual mobile device (primary) or emulator
2. Test one-handed phone use - can you complete chores with just your thumb?
3. Complete chores and observe transitions (smooth, not janky)
4. Navigate to history and verify layout works on mobile viewport
5. Test on desktop briefly to ensure admin workflows still work
6. Measure touch targets with devtools (all >= 48px for primary actions)
7. Get user approval on overall polish and visual appeal
</verification>

<success_criteria>
- Svelte transitions applied to chore list items
- Touch targets meet 48px minimum for primary actions (toggle, cards)
- UI feels responsive and smooth on mobile devices
- One-handed phone use is comfortable
- Safe area insets respected (notched phones)
- Desktop admin use remains functional
- User approves visual polish ("clean and pleasing")
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish-and-history/06-03-SUMMARY.md`
</output>
